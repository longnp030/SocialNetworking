(function(e){function t(t){for(var o,s,i=t[0],u=t[1],c=t[2],f=0,d=[];f<i.length;f++)s=i[f],Object.prototype.hasOwnProperty.call(n,s)&&n[s]&&d.push(n[s][0]),n[s]=0;for(o in u)Object.prototype.hasOwnProperty.call(u,o)&&(e[o]=u[o]);l&&l(t);while(d.length)d.shift()();return a.push.apply(a,c||[]),r()}function r(){for(var e,t=0;t<a.length;t++){for(var r=a[t],o=!0,i=1;i<r.length;i++){var u=r[i];0!==n[u]&&(o=!1)}o&&(a.splice(t--,1),e=s(s.s=r[0]))}return e}var o={},n={app:0},a=[];function s(t){if(o[t])return o[t].exports;var r=o[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,s),r.l=!0,r.exports}s.m=e,s.c=o,s.d=function(e,t,r){s.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},s.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},s.t=function(e,t){if(1&t&&(e=s(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(s.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)s.d(r,o,function(t){return e[t]}.bind(null,o));return r},s.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return s.d(t,"a",t),t},s.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},s.p="/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],u=i.push.bind(i);i.push=t,i=i.slice();for(var c=0;c<i.length;c++)t(i[c]);var l=u;a.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"034f":function(e,t,r){"use strict";r("85ec")},"0d37":function(e,t,r){},"41c4":function(e,t,r){"use strict";var o=r("8855"),n=r.n(o);t["default"]=n.a},"56b4":function(e,t,r){"use strict";var o=r("882b"),n=r("41c4"),a=r("2877"),s=Object(a["a"])(n["default"],o["a"],o["b"],!1,null,"31a6ee2e",null);t["default"]=s.exports},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var o=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{attrs:{id:"app"}},[r("router-view")],1)},a=[],s={name:"app",components:{},created:function(){this.$router.push("home",(function(){}))}},i=s,u=(r("034f"),r("2877")),c=Object(u["a"])(i,n,a,!1,null,null,null),l=c.exports,f=r("8c4f"),d=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.show?r("b-form",{on:{submit:e.onSubmit,reset:e.onReset}},[r("b-form-group",{attrs:{id:"input-group-1",label:"Email address:","label-for":"input-1"}},[r("b-form-input",{attrs:{id:"input-1",type:"email",placeholder:"Enter email",required:""},model:{value:e.form.Email,callback:function(t){e.$set(e.form,"Email",t)},expression:"form.Email"}})],1),r("b-form-group",{attrs:{id:"input-group-2",label:"Password:","label-for":"input-2"}},[r("b-form-input",{attrs:{id:"input-2",type:"password",placeholder:"Enter password",required:""},model:{value:e.form.Password,callback:function(t){e.$set(e.form,"Password",t)},expression:"form.Password"}})],1),r("b-form-group",{attrs:{id:"input-group-4"}},[r("b-form-checkbox",{model:{value:e.saveCred,callback:function(t){e.saveCred=t},expression:"saveCred"}},[e._v("Remember me")])],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")]),r("b-button",{attrs:{type:"reset",variant:"danger"}},[e._v("Reset")])],1):e._e()],1)},p=[],m=(r("e9c4"),r("bc3a")),h=r.n(m),b={data:function(){return{authUrl:"https://localhost:6868/Users/authenticate",form:{},saveCred:!1,show:!0}},methods:{saveCookie:function(e,t,r){this.$cookies.set("sn-auth-token",e,r),this.$cookies.set("sn-user-id",t,r)},onSubmit:function(e){var t=this;e.preventDefault(),h.a.post(this.authUrl,JSON.parse(JSON.stringify(this.form))).then((function(e){var r=e.data.JwtToken,o=e.data.Id;t.saveCred?t.saveCookie(r,o,-1):t.saveCookie(r,o,0),t.$nextTick((function(){this.$router.push({name:"home",params:{authToken:r,userId:o}})}))})).catch((function(e){console.log(e)}))},onReset:function(e){var t=this;e.preventDefault(),this.form={},this.show=!1,this.$nextTick((function(){t.show=!0}))}}},v=b,g=Object(u["a"])(v,d,p,!1,null,"584ffa3c",null),w=g.exports,k=r("56b4"),x=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-container",{attrs:{fluid:""}},[r("b-row",{attrs:{cols:"3"}},[r("b-col",{attrs:{cols:"3"}},[e._v("Column")]),r("b-col",{attrs:{cols:"6"}},[e.userId?r("Feed",{attrs:{userId:e.userId,jwtToken:e.jwtToken}}):e._e()],1),r("b-col",{attrs:{cols:"3"}},[e._v("Column")])],1)],1)},j=[],T=r("1da1"),I=(r("ac1f"),r("5319"),r("96cf"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[r("PostForm",{attrs:{userId:e.userId,jwtToken:e.jwtToken}}),e._l(e.posts,(function(t){return r("PostCard",{key:t.Id,attrs:{userId:e.userId,jwtToken:e.jwtToken,post:t}})}))],2)}),_=[],y=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("b-card",[r("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[r("b-img",{attrs:{blank:"","blank-color":"#ccc",width:"64",alt:"placeholder"}})]},proxy:!0}])},[r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",[r("b-form-select",{staticClass:"mt-3",attrs:{options:e.privacyOptions,size:"sm"},model:{value:e.form.Privacy,callback:function(t){e.$set(e.form,"Privacy",t)},expression:"form.Privacy"}})],1),r("b-form-group",[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"Enter something...",rows:"3","max-rows":"6"},model:{value:e.form.Text,callback:function(t){e.$set(e.form,"Text",t)},expression:"form.Text"}})],1),r("b-form-group",[r("b-form-file",{attrs:{placeholder:"Add an image..."},model:{value:e.media,callback:function(t){e.media=t},expression:"media"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1)],1)],1)},$=[],O={props:["userId","jwtToken"],data:function(){return{postUrl:"https://localhost:6868/Posts/",form:{MediaPaths:[]},media:null,privacyOptions:[{value:0,text:"Public"},{value:1,text:"Private"}]}},methods:{onSubmit:function(e){e.preventDefault(),this.form.AuthorId=this.userId,h.a.post(this.postUrl,JSON.parse(JSON.stringify(this.form)),{headers:{Authorization:"Bearer ".concat(this.jwtToken)}}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))}},watch:{media:function(){var e=this;null!==this.media&&(console.log(this.media),this.form.MediaPaths.push(this.media),this.$nextTick((function(){e.media=null})))}}},P=O,U=Object(u["a"])(P,y,$,!1,null,"cd92b40e",null),C=U.exports,S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.author?r("b-card",[r("b-media",{scopedSlots:e._u([{key:"aside",fn:function(){return[r("b-img",{attrs:{blank:"","blank-color":"#ccc",width:"64",alt:"placeholder"}})]},proxy:!0}],null,!1,3721305002)},[r("div",{staticClass:"d-inline-flex"},[r("h6",{staticClass:"mt-0"},[e._v(e._s(e.author.Name))]),r("div",[e._v(e._s(e.post.Timestamp))])]),r("p",{staticClass:"mb-0"},[e._v(" "+e._s(e.post.Text)+" ")])])],1):e._e()},R=[],E={name:"PostCard",props:["post","userId","jwtToken"],data:function(){return{getUserProfileUrl:"https://localhost:6868/Users/userId/profile",author:null}},mounted:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getAuthorProfile();case 2:case"end":return t.stop()}}),t)})))()},methods:{getAuthorProfile:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(e.getUserProfileUrl.replace("userId",e.post.AuthorId),{headers:{Authorization:"Bearer ".concat(e.jwtToken)}}).then((function(t){e.author=t.data,console.log(e.author)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}},watch:{post:{immediate:!0,deep:!0,handler:function(){console.log(this.post)}}}},F=E,A=Object(u["a"])(F,S,R,!1,null,"07d1aaf9",null),N=A.exports,B={name:"Feed",components:{PostForm:C,PostCard:N},props:["userId","jwtToken"],data:function(){return{getFeedUrl:"https://localhost:6868/Users/userId/posts",posts:[]}},mounted:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(console.log("Into Feed..."),!e.userId){t.next=5;break}return console.log("Found userId: ",e.userId),t.next=5,e.getPost();case 5:case"end":return t.stop()}}),t)})))()},methods:{getPost:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,h.a.get(e.getFeedUrl.replace("userId",e.userId),{headers:{Authorization:"Bearer ".concat(e.jwtToken)}}).then((function(t){e.posts=t.data,console.log(e.posts)})).catch((function(e){console.log(e)}));case 2:case"end":return t.stop()}}),t)})))()}},watch:{userId:function(){console.log("Feed: ",this.userId)},jwtToken:function(){console.log("Feed: ",this.jwtToken)}}},D=B,J=Object(u["a"])(D,I,_,!1,null,"01496a90",null),z=J.exports,M={name:"Home",components:{Feed:z},data:function(){return{getUserUrl:"https://localhost:6868/Users/",getUserProfileUrl:"https://localhost:6868/Users/userId/profile",jwtToken:"",userId:""}},props:{},created:function(){this.jwtToken=this.$route.params.authToken,void 0===this.jwtToken&&(this.jwtToken=this.$cookies.get("sn-auth-token"),null===this.jwtToken&&(console.log(this.jwtToken),this.$router.push("login")))},mounted:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,e.getUser();case 2:return t.next=4,e.getUserProfile();case 4:case"end":return t.stop()}}),t)})))()},methods:{logout:function(){this.jwtToken=this.$cookies.get("sn-auth-token"),null!==this.jwtToken&&this.$cookies.remove("sn-auth-token"),this.$nextTick((function(){this.$router.push("login")}))},getUser:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userId=e.$cookies.get("sn-user-id"),null===e.userId){t.next=4;break}return t.next=4,h.a.get(e.getUserUrl+e.userId,{headers:{Authorization:"Bearer ".concat(e.jwtToken)}}).then((function(t){e.user=t.data,console.log(e.user)})).catch((function(e){console.log(e)}));case 4:case"end":return t.stop()}}),t)})))()},getUserProfile:function(){var e=this;return Object(T["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e,t.next=3,h.a.get(e.getUserProfileUrl.replace("userId",e.userId),{headers:{Authorization:"Bearer ".concat(e.jwtToken)}}).then((function(t){t.data.Timestamp||e.$router.push({name:"updateprofile",params:{userProfile:t.data,userId:r.userId,jwtToken:r.jwtToken}})})).catch((function(e){console.log(e.response)}));case 3:case"end":return t.stop()}}),t)})))()}},watch:{}},L=M,q=Object(u["a"])(L,x,j,!1,null,"1286b708",null),G=q.exports,H=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",[e.show?r("b-form",{on:{submit:e.onSubmit}},[r("b-form-group",[r("b-form-input",{attrs:{id:"input-name",placeholder:"Name",required:""},model:{value:e.form.Name,callback:function(t){e.$set(e.form,"Name",t)},expression:"form.Name"}})],1),r("b-form-group",[r("b-form-datepicker",{staticClass:"mb-2",attrs:{id:"input-dob"},model:{value:e.form.DateOfBirth,callback:function(t){e.$set(e.form,"DateOfBirth",t)},expression:"form.DateOfBirth"}})],1),r("b-form-group",[r("b-form-textarea",{attrs:{id:"textarea",placeholder:"About yourself...",rows:"3","max-rows":"6"},model:{value:e.form.SelfIntroduction,callback:function(t){e.$set(e.form,"SelfIntroduction",t)},expression:"form.SelfIntroduction"}})],1),r("b-form-group",[r("b-form-radio-group",{staticClass:"mb-3",attrs:{options:e.options,"value-field":"value","text-field":"name"},model:{value:e.form.Gender,callback:function(t){e.$set(e.form,"Gender",t)},expression:"form.Gender"}})],1),r("b-form-group",[r("b-form-input",{attrs:{id:"input-location",placeholder:"Address"},model:{value:e.form.CurrentLocation,callback:function(t){e.$set(e.form,"CurrentLocation",t)},expression:"form.CurrentLocation"}})],1),r("b-button",{attrs:{type:"submit",variant:"primary"}},[e._v("Submit")])],1):e._e(),r("b-card",{staticClass:"mt-3",attrs:{header:"Form Data Result"}},[r("pre",{staticClass:"m-0"},[e._v(e._s(e.form))])])],1)},K=[],Q=(r("d3b7"),r("3ca3"),r("ddb0"),r("2b3d"),r("9861"),{data:function(){return{profileUrl:"https://localhost:6868/Users/userId/profile",show:!0,form:{},options:[{value:0,name:"Male"},{value:1,name:"Female"},{value:null,name:"Prefer not to share"}],avatarUrl:""}},created:function(){this.originalform=this.$route.params.userProfile,this.form=this.$route.params.userProfile},methods:{onSubmit:function(e){var t=this;e.preventDefault(),this.form.Timestamp=new Date,h.a.patch(this.profileUrl.replace("userId",this.$route.params.userId),JSON.parse(JSON.stringify(this.form)),{headers:{Authorization:"Bearer ".concat(this.$route.params.jwtToken)}}).then((function(e){console.log(e),t.$router.push({name:"home",params:{jwtToken:t.$route.params.jwtToken,userId:t.$route.params.userId}})})).catch((function(e){console.log(e.response)}))},onFileChange:function(e){var t=e.target.files[0];this.avatarUrl=URL.createObjectURL(t)}}}),V=Q,W=(r("6bdc"),Object(u["a"])(V,H,K,!1,null,"7560aa90",null)),X=W.exports;o["default"].use(f["a"]);var Y=[{path:"/login",name:"login",component:w},{path:"/register",name:"register",component:k["default"]},{path:"/home",name:"home",component:G},{path:"/update-profile",name:"updateprofile",component:X}],Z=new f["a"]({mode:"history",routes:Y}),ee=Z,te=r("2b27"),re=r.n(te),oe=r("5f5b"),ne=r("b1e0");r("f9e3"),r("2dd8");o["default"].config.productionTip=!0,o["default"].use(f["a"]),o["default"].use(re.a),o["default"].use(oe["a"]),o["default"].use(ne["a"]),new o["default"]({router:ee,render:function(e){return e(l)}}).$mount("#app")},"6bdc":function(e,t,r){"use strict";r("0d37")},"85ec":function(e,t,r){},"882b":function(e,t,r){"use strict";r.d(t,"a",(function(){return o})),r.d(t,"b",(function(){return n}));var o=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div")},n=[]},8855:function(e,t){}});
//# sourceMappingURL=app.8c4d65df.js.map